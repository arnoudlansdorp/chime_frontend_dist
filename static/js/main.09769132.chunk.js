(this["webpackJsonpamazon-ivs-chime-demo-web-ui"]=this["webpackJsonpamazon-ivs-chime-demo-web-ui"]||[]).push([[0],{224:function(e,t,n){},233:function(e,t,n){},288:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){},299:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),o=n(93),i=n.n(o),r=(n(233),n(24)),c=n(11),l="https://m7qxs56fx5.execute-api.us-east-1.amazonaws.com/Prod",u="wss://5sg50im573.execute-api.us-east-1.amazonaws.com/Prod",d=!1,h=n(2),p=n.n(h),m=n(4),b=n(6),v=n(7),f=n(13),j=n(227),g=n.n(j),O=function(){function e(){Object(b.a)(this,e),this.initializeSdkWrapper()}return Object(v.a)(e,[{key:"initializeSdkWrapper",value:function(){this.meetingSession=null,this.audioVideo=null,this.title=null,this.name=null,this.region=null,this.currentAudioInputDevice=null,this.currentAudioOutputDevice=null,this.currentVideoInputDevice=null,this.audioInputDevices=[],this.audioOutputDevices=[],this.videoInputDevices=[],this.devicesUpdatedCallbacks=[],this.roster={},this.rosterUpdateCallbacks=[],this.configuration=null,this.messagingSocket=null,this.messageUpdateCallbacks=[]}},{key:"logError",value:function(e){console.error(e)}},{key:"createRoom",value:function(){var e=Object(m.a)(p.a.mark((function e(t,n,s,a,o){var i,r,c,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&s&&t){e.next=3;break}return console.error("role=".concat(t," name=").concat(n," title=").concat(s," must exist")),e.abrupt("return");case 3:return i={name:n,title:s,playbackURL:a,role:t},e.next=6,fetch("".concat(l,"/join"),{method:"POST",body:JSON.stringify(i)});case 6:return r=e.sent,e.next=9,r.json();case 9:if(!(c=e.sent).error){e.next=12;break}throw new Error(c.error);case 12:if(u=c.JoinInfo){e.next=15;break}throw new Error("CreateOrJoin.classRoomDoesNotExist");case 15:return this.configuration=new f.MeetingSessionConfiguration(u.Meeting,u.Attendee),e.next=18,this.initializeMeetingSession(this.configuration);case 18:return this.title=s,this.name=n,this.region=o,e.abrupt("return",u);case 22:case"end":return e.stop()}}),e,this)})));return function(t,n,s,a,o){return e.apply(this,arguments)}}()},{key:"reInitializeMeetingSession",value:function(){var e=Object(m.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.configuration=new f.MeetingSessionConfiguration(t.Meeting,t.Attendee),e.next=3,this.initializeMeetingSession(this.configuration);case 3:this.title=t.Title,this.name=n;case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initializeMeetingSession",value:function(){var e=Object(m.a)(p.a.mark((function e(t){var n,s,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new f.ConsoleLogger("SDK",f.LogLevel.ERROR),s=new f.DefaultDeviceController(n),this.meetingSession=new f.DefaultMeetingSession(t,n,s),this.audioVideo=this.meetingSession.audioVideo,this.audioInputDevices=[],e.next=7,this.audioVideo.listAudioInputDevices();case 7:return e.sent.forEach((function(e){a.audioInputDevices.push({label:e.label,value:e.deviceId})})),this.audioOutputDevices=[],e.next=11,this.audioVideo.listAudioOutputDevices();case 11:return e.sent.forEach((function(e){a.audioOutputDevices.push({label:e.label,value:e.deviceId})})),this.videoInputDevices=[],e.next=15,this.audioVideo.listVideoInputDevices();case 15:e.sent.forEach((function(e){a.videoInputDevices.push({label:e.label,value:e.deviceId})})),this.publishDevicesUpdated(),this.audioVideo.addDeviceChangeObserver(this),this.audioVideo.realtimeSubscribeToAttendeeIdPresence((function(e,t){if(!t)return delete a.roster[e],void a.publishRosterUpdate()();a.audioVideo.realtimeSubscribeToVolumeIndicator(e,function(){var e=Object(m.a)(p.a.mark((function e(t,n,s,o){var i,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(new f.DefaultModality(t).base()===t){e.next=3;break}return e.abrupt("return");case 3:if(!1,a.roster[t]||(a.roster[t]={name:""}),null!==n&&(a.roster[t].volume=Math.round(100*n)),null!==s&&(a.roster[t].muted=s),null!==o&&(a.roster[t].signalStrength=Math.round(100*o)),!a.title||!t||a.roster[t].name){e.next=16;break}return e.next=11,fetch("".concat(l,"/attendee?title=").concat(encodeURIComponent(a.title),"&attendeeId=").concat(encodeURIComponent(t)));case 11:return i=e.sent,e.next=14,i.json();case 14:(r=e.sent).AttendeeInfo&&a.roster[t]&&(a.roster[t].name=r.AttendeeInfo.Name||"",!0);case 16:a.publishRosterUpdate()();case 18:case"end":return e.stop()}}),e)})));return function(t,n,s,a){return e.apply(this,arguments)}}())}));case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"joinRoom",value:function(){var e=Object(m.a)(p.a.mark((function e(t){var n,s,a,o=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return this.logError(new Error("element does not exist")),e.abrupt("return");case 3:return window.addEventListener("unhandledrejection",(function(e){o.logError(e.reason)})),e.next=6,this.audioVideo.listAudioInputDevices();case 6:if(!((n=e.sent)&&n.length>0&&n[0].deviceId)){e.next=11;break}return this.currentAudioInputDevice={label:n[0].label,value:n[0].deviceId},e.next=11,this.audioVideo.chooseAudioInputDevice(n[0].deviceId);case 11:return e.next=13,this.audioVideo.listAudioOutputDevices();case 13:if(!((s=e.sent)&&s.length>0&&s[0].deviceId)){e.next=18;break}return this.currentAudioOutputDevice={label:s[0].label,value:s[0].deviceId},e.next=18,this.audioVideo.chooseAudioOutputDevice(s[0].deviceId);case 18:return e.next=20,this.audioVideo.listVideoInputDevices();case 20:if(!((a=e.sent)&&a.length>0&&a[0].deviceId)){e.next=25;break}return this.currentVideoInputDevice={label:a[0].label,value:a[0].deviceId},e.next=25,this.audioVideo.chooseVideoInputDevice(null);case 25:this.publishDevicesUpdated(),this.audioVideo.bindAudioElement(t),this.audioVideo.start();case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"joinRoomMessaging",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,n=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.configuration){e.next=3;break}return this.logError(new Error("configuration does not exist")),e.abrupt("return");case 3:return t="".concat(u,"?MeetingId=").concat(this.configuration.meetingId,"&AttendeeId=").concat(this.configuration.credentials.attendeeId,"&JoinToken=").concat(this.configuration.credentials.joinToken),this.messagingSocket=new f.ReconnectingPromisedWebSocket(t,[],"arraybuffer",new f.DefaultPromisedWebSocketFactory(new f.DefaultDOMWebSocketFactory),new f.FullJitterBackoff(1e3,0,1e4)),e.next=7,this.messagingSocket.open(this.WEB_SOCKET_TIMEOUT_MS);case 7:this.messagingSocket.addEventListener("message",(function(e){try{var t,s=JSON.parse(e.data),a=s.payload.attendeeId;n.roster[a]&&(t=n.roster[a].name),n.publishMessageUpdate({type:s.type,payload:s.payload,timestampMs:Date.now(),name:t})}catch(o){n.logError(o)}}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(e,t){if(this.messagingSocket){var n={message:"sendmessage",data:JSON.stringify({type:e,payload:t})};try{this.messagingSocket.send(JSON.stringify(n))}catch(s){this.logError(s)}}}},{key:"leaveRoom",value:function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.audioVideo.stop()}catch(n){this.logError(n)}if(e.prev=1,!t||!this.title){e.next=5;break}return e.next=5,fetch("".concat(l,"/end?title=").concat(encodeURIComponent(this.title)),{method:"POST"});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.logError(e.t0);case 10:this.initializeSdkWrapper();case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"chooseAudioInputDevice",value:function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.audioVideo.chooseAudioInputDevice(t.value);case 3:this.currentAudioInputDevice=t,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.logError(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"chooseAudioOutputDevice",value:function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.audioVideo.chooseAudioOutputDevice(t.value);case 3:this.currentAudioOutputDevice=t,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.logError(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"chooseVideoInputDevice",value:function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.audioVideo.chooseVideoInputDevice(t.value);case 3:this.currentVideoInputDevice=t,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.logError(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"audioInputsChanged",value:function(e){var t=this,n=!1;this.audioInputDevices=[],e.forEach((function(e){t.currentAudioInputDevice&&e.deviceId===t.currentAudioInputDevice.value&&(n=!0),t.audioInputDevices.push({label:e.label,value:e.deviceId})})),n||(this.currentAudioInputDevice=this.audioInputDevices.length>0?this.audioInputDevices[0]:null),this.publishDevicesUpdated()}},{key:"audioOutputsChanged",value:function(e){var t=this,n=!1;this.audioOutputDevices=[],e.forEach((function(e){t.currentAudioOutputDevice&&e.deviceId===t.currentAudioOutputDevice.value&&(n=!0),t.audioOutputDevices.push({label:e.label,value:e.deviceId})})),n||(this.currentAudioOutputDevice=this.audioOutputDevices.length>0?this.audioOutputDevices[0]:null),this.publishDevicesUpdated()}},{key:"videoInputsChanged",value:function(e){var t=this,n=!1;this.videoInputDevices=[],e.forEach((function(e){t.currentVideoInputDevice&&e.deviceId===t.currentVideoInputDevice.value&&(n=!0),t.videoInputDevices.push({label:e.label,value:e.deviceId})})),n||(this.currentVideoInputDevice=this.videoInputDevices.length>0?this.videoInputDevices[0]:null),this.publishDevicesUpdated()}},{key:"subscribeToDevicesUpdated",value:function(e){this.devicesUpdatedCallbacks.push(e)}},{key:"unsubscribeFromDevicesUpdated",value:function(e){var t=this.devicesUpdatedCallbacks.indexOf(e);-1!==t&&this.devicesUpdatedCallbacks.splice(t,1)}},{key:"publishDevicesUpdated",value:function(){var e=this;this.devicesUpdatedCallbacks.forEach((function(t){t({currentAudioInputDevice:e.currentAudioInputDevice,currentAudioOutputDevice:e.currentAudioOutputDevice,currentVideoInputDevice:e.currentVideoInputDevice,audioInputDevices:e.audioInputDevices,audioOutputDevices:e.audioOutputDevices,videoInputDevices:e.videoInputDevices})}))}},{key:"subscribeToRosterUpdate",value:function(e){this.rosterUpdateCallbacks.push(e)}},{key:"unsubscribeFromRosterUpdate",value:function(e){var t=this.rosterUpdateCallbacks.indexOf(e);-1!==t&&this.rosterUpdateCallbacks.splice(t,1)}},{key:"publishRosterUpdate",value:function(){var e=this;return g()((function(){for(var t=0;t<e.rosterUpdateCallbacks.length;t+=1){(0,e.rosterUpdateCallbacks[t])(e.roster)}}),this.ROSTER_THROTTLE_MS)}},{key:"subscribeToMessageUpdate",value:function(e){this.messageUpdateCallbacks.push(e)}},{key:"unsubscribeFromMessageUpdate",value:function(e){var t=this.messageUpdateCallbacks.indexOf(e);-1!==t&&this.messageUpdateCallbacks.splice(t,1)}},{key:"publishMessageUpdate",value:function(e){for(var t=0;t<this.messageUpdateCallbacks.length;t+=1){(0,this.messageUpdateCallbacks[t])(e)}}}]),e}();O.WEB_SOCKET_TIMEOUT_MS=1e4,O.ROSTER_THROTTLE_MS=400;var x=n(9),k=n(8),S=(n(288),n(0)),y=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(b.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleKeyDown=function(t){27===t.keyCode&&e.props.closeError()},e.handleClick=function(t){for(var n=t.target,s=!1;n;){if(n&&n.classList&&n.classList.contains("notice--error")){s=!0;break}n=n.parentNode}s||e.props.closeError()},e.handleGoCreateRoom=function(){window.location.replace("/index.html")},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(S.jsx)("div",{className:"notice notice--error",onClick:this.handleClick,children:Object(S.jsxs)("div",{className:"notice__content",children:[Object(S.jsx)("div",{className:"icon icon--24 notice__icon",children:Object(S.jsx)("svg",{viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg",children:Object(S.jsx)("path",{d:"M 500 0C 224 0 0 224 0 500C 0 776 224 1000 500 1000C 776 1000 1000 776 1000 500C 1000 224 776 0 500 0C 500 0 500 0 500 0M 526 150C 576 150 602 175 601 224C 600 300 600 350 575 525C 570 560 560 575 525 575C 525 575 475 575 475 575C 440 575 430 560 425 525C 400 355 400 300 400 226C 400 175 425 150 475 150M 500 650C 527 650 552 661 571 679C 589 698 600 723 600 750C 600 805 555 850 500 850C 445 850 400 805 400 750C 400 723 411 698 429 679C 448 661 473 650 500 650C 500 650 500 650 500 650"})})}),this.props.errorMsg," ",Object(S.jsx)("br",{}),Object(S.jsx)("div",{children:Object(S.jsx)("span",{className:"go-close-button",onClick:this.props.closeError,children:"Close"})})]})})}}]),n}(s.Component),C=(n(224),n.p+"static/media/Logo.c65422c9.svg"),I=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return Object(S.jsxs)("div",{className:"alert-container",children:[Object(S.jsx)("div",{className:"alert-back-drop"}),Object(S.jsxs)("div",{className:"alert-content",children:[Object(S.jsx)("img",{className:"alert-logo",src:C,alt:"Logo"}),Object(S.jsx)("p",{children:"Sorry, but we\u2019ve detected that your browser or device is not compatible"}),Object(S.jsx)("p",{children:"with our virtual meeting software."}),Object(S.jsx)("br",{}),Object(S.jsx)("p",{children:"Please try a different browser or device to access the session."}),Object(S.jsx)("br",{}),Object(S.jsxs)("p",{children:["For more details on compatibility options, ",Object(S.jsx)("a",{target:"_blank",href:"https://docs.aws.amazon.com/chime/latest/dg/meetings-sdk.html",rel:"noreferrer",children:"click here."})]})]})]})}}]),n}(s.Component),w=Object(c.f)(I),N=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).state={role:"host",username:"",title:"",playbackURL:"https://fcc3ddae59ed.us-west-2.playback.live-video.net/api/video/v1/us-west-2.893648527354.channel.DmumNckWFTqz.m3u8",errorMsg:"",showError:!1,isAvailable:!1},e.handleNameChange=function(t){e.setState({username:t.target.value})},e.handleRoomChange=function(t){e.setState({title:t.target.value})},e.handlePlaybackURLChange=function(t){e.setState({playbackURL:t.target.value})},e.handleCreateRoom=function(t){t.preventDefault(),t.stopPropagation(),e.createRoom()},e.setErrorMsg=function(t){e.setState({errorMsg:t,showError:!0})},e.closeError=function(){e.setState({showError:!1})},e.baseHref="",e.inputRef=a.a.createRef(),e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(this.props.location.search);if("join"===e.get("action")){var t=e.get("room");this.props.history.push("".concat(this.baseHref,"/join?room=").concat(t))}this.inputRef.current.focus();try{navigator.mediaDevices.enumerateDevices||this.setState({isAvailable:!0})}catch(a){console.log(a),this.setState({isAvailable:!0})}var n=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),s=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;n&&s&&this.setState({isAvailable:!0})}},{key:"createRoom",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,n,s,a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state,n=t.title,s=t.username,a=t.playbackURL,o={username:s,title:n,playbackURL:a,role:this.state.role},sessionStorage.setItem("chime[".concat(n,"]"),JSON.stringify(o)),this.props.history.push("".concat(this.baseHref,"/meeting?room=").concat(n,"&username=").concat(s));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.username,n=e.title,s=e.playbackURL,o=e.isAvailable,i=!t||!n||!s;return Object(S.jsxs)(a.a.Fragment,{children:[o&&Object(S.jsx)(w,{}),Object(S.jsxs)("div",{className:"welcome form-grid",children:[Object(S.jsx)("div",{className:"welcome__intro",children:Object(S.jsxs)("div",{className:"intro__inner formatted-text",children:[Object(S.jsx)("h1",{children:"Amazon IVS with ChimeSDK"}),Object(S.jsx)("h3",{children:"Create or join rooms, and watch Amazon IVS streams with anyone."})]})}),Object(S.jsx)("div",{className:"welcome__content pd-4",children:Object(S.jsxs)("div",{className:"content__inner",children:[Object(S.jsx)("h2",{className:"mg-b-2",children:"Get started"}),Object(S.jsx)("form",{action:"",children:Object(S.jsxs)("fieldset",{className:"mg-b-2",children:[Object(S.jsx)("input",{className:"mg-b-2",type:"text",placeholder:"Your name",value:t,ref:this.inputRef,onChange:this.handleNameChange}),Object(S.jsx)("input",{type:"text",placeholder:"Room name",value:n,onChange:this.handleRoomChange}),Object(S.jsx)("input",{type:"hidden",placeholder:"Playback URL",value:s,onChange:this.handlePlaybackURLChange}),Object(S.jsx)("button",{className:"mg-t-2 btn btn--primary",disabled:i,onClick:this.handleCreateRoom,children:"Create room"})]})})]})})]}),this.state.showError&&Object(S.jsx)(y,{closeError:this.closeError,errorMsg:this.state.errorMsg})]})}}]),n}(s.Component),D=Object(c.f)(N),M=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).state={role:"attendee",username:"",title:"",errorMsg:"",showError:!1},e.joinRoom=Object(m.a)(p.a.mark((function t(){var n,s,a,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,s=n.username,a=n.title,o={username:s,title:a,role:e.state.role},sessionStorage.setItem("chime[".concat(a,"]"),JSON.stringify(o)),e.props.history.push("".concat(e.baseHref,"/meeting?room=").concat(a));case 4:case"end":return t.stop()}}),t)}))),e.handleNameChange=function(t){e.setState({username:t.target.value})},e.handleJoinRoom=function(t){t.preventDefault(),t.stopPropagation(),e.joinRoom()},e.handleClick=function(t){for(var n=t.target,s=!1;n;){if(n&&n.classList&&n.classList.contains("notice--error")){s=!0;break}n=n.parentNode}s||e.closeError()},e.setErrorMsg=function(t){e.setState({errorMsg:t,showError:!0})},e.closeError=function(){e.setState({showError:!1})},e.inputRef=a.a.createRef(),e.baseHref="",e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(this.props.location.search).get("room");this.setState({title:e})}},{key:"render",value:function(){var e=this.state.username,t=!e;return Object(S.jsxs)("div",{className:"welcome form-grid",onClick:this.handleClick,children:[Object(S.jsx)("div",{className:"welcome__intro",children:Object(S.jsxs)("div",{className:"intro__inner formatted-text",children:[Object(S.jsx)("h1",{children:"Amazon IVS with ChimeSDK"}),Object(S.jsx)("h3",{children:"Create or join rooms, and watch Amazon IVS streams with anyone."})]})}),Object(S.jsx)("div",{className:"welcome__content pd-4",children:Object(S.jsxs)("div",{className:"content__inner",children:[Object(S.jsx)("h2",{className:"mg-b-2",children:"Hey there!"}),Object(S.jsx)("form",{action:"",children:Object(S.jsxs)("fieldset",{className:"mg-b-2",children:[Object(S.jsx)("input",{type:"text",placeholder:"Your name",value:e,ref:this.inputRef,onChange:this.handleNameChange}),Object(S.jsx)("button",{className:"mg-t-1 btn btn--primary",disabled:t,onClick:this.handleJoinRoom,children:"Join room"})]})})]})}),this.state.showError&&Object(S.jsx)(y,{closeError:this.closeError,errorMsg:this.state.errorMsg})]})}}]),n}(s.Component),E=Object(c.f)(M),_=n(20),R=n(48),A=(n(226),n(28)),T=(n(294),n(33)),U=(n(295),n.p+"static/media/Raise-Hand.fddd95b6.svg"),V=n.p+"static/media/close.24bebf55.svg",P=n.p+"static/media/un-line.c90e1b7d.svg",L=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).scrollToBottom=function(){},e.handleChange=function(t){var n=t.target.value.replace("\n","");t.target.value=n,e.setState({message:t.target.value})},e.handleKeyDown=function(t){13===t.keyCode&&e.sendMessage()},e.handleSendMobile=function(){e.sendMessage()},e.handleRoomClick=function(t){t.stopPropagation(),t.preventDefault();var n=e.props.title,s="".concat(window.location.origin).concat(window.location.pathname.replace("meeting","index.html"),"?action=join&room=").concat(n);e.copyTextToClipboard(encodeURI(s))},e.setShowPopup=function(){e.setState({showPopup:!0}),setTimeout((function(){e.setState({showPopup:!1})}),2e3)},e.copyTextToClipboard=function(t){navigator.clipboard&&navigator.clipboard.writeText(t).then((function(){e.setShowPopup()}),(function(e){d}))},e.parseUrls=function(e){return e.replace(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_.~#?&//=]*)/g,(function(e){var t=e;return e.startsWith("http")||(t="http://".concat(e)),"<a href=".concat(t,' class="chat-line__link" target="_blank" rel="noopener noreferrer">').concat(e,"</a>")}))},e.renderMessages=function(){var t=e.props.messages;return t.sort(e.compare),t.map((function(t){var n=e.parseUrls(t.message);return Object(S.jsxs)("div",{className:"chat-line",children:[Object(S.jsx)("p",{children:Object(S.jsx)("span",{dangerouslySetInnerHTML:{__html:n}})}),Object(S.jsxs)("div",{className:"chat-action",children:[Object(S.jsx)("span",{className:"qa-tool-btn vote-icon","data-tip":!0,"data-for":"tooltip-for-boost",onClick:function(){return e.handleUpVote(t)}}),Object(S.jsx)(T.a,{id:"tooltip-for-boost",type:"dark",place:"bottom",effect:"solid",children:Object(S.jsx)("span",{children:"Boost question"})}),Object(S.jsxs)("span",{className:"vote-count",children:[" ",t.vote.length," "]}),Object(S.jsx)("span",{className:"border-bottom",children:" "}),Object(S.jsx)("span",{className:"qa-tool-btn delete-icon","data-tip":!0,"data-for":"tooltip-for-remove-q",onClick:function(){return e.handleRemoveMessage(t)}}),Object(S.jsx)(T.a,{id:"tooltip-for-remove-q",type:"dark",place:"bottom",effect:"solid",children:Object(S.jsx)("span",{children:"Remove question"})})]})]},t.id)}))},e.handleUpVote=function(t){if(t){var n=e.props.connection,s=e.props.username,a='{\n        "message": "sendmessage",\n        "sender": "'.concat(s,'",\n        "id": "').concat(t.id,'",\n        "type": "upvote"\n      }');console.log(a),n.send(a),e.setState({message:""})}},e.handleRemoveMessage=function(t){if("host"===e.props.role){if(t){var n=e.props.connection,s='{\n        "message": "sendmessage",\n        "id": "'.concat(t.id,'",\n        "type": "deletemessage"\n      }');n.send(s),e.setState({message:""})}}else e.props.setErrorMsg("You are not a host!")},e.handleTabChange=function(t){e.props.changeTab(t)},e.handlDownRaiseHand=function(t){if("host"===e.props.role){if(t.raisehand){var n='{\n      "message": "sendmessage",\n      "attendeeId": "'.concat(t.attendeeId,'",\n      "type": "downhand"\n    }');e.props.connection.send(n)}}else e.props.setErrorMsg("You are not a host!")},e.handlePartMute=function(t){if(console.log(t),"host"===e.props.role){if(!t.mute){var n='{\n      "message": "sendmessage",\n      "attendeeId": "'.concat(t.attendeeId,'",\n      "type": "muteremote"\n    }');e.props.connection.send(n)}}else e.props.setErrorMsg("You are not a host!")},e.handleRemovePart=function(t){if("host"===e.props.role){var n='{\n      "message": "sendmessage",\n      "attendeeId": "'.concat(t.attendeeId,'",\n      "type": "removeremote"\n    }');e.props.connection.send(n)}else e.props.setErrorMsg("You are not a host!")},e.handleMakeHost=function(t){if("host"===e.props.role){var n='{\n      "message": "sendmessage",\n      "attendeeId": "'.concat(t.attendeeId,'",\n      "type": "makehost"\n    }');e.props.connection.send(n)}else e.props.setErrorMsg("You are not a host!")},e.renderParticipants=function(){return e.props.participants.map((function(t,n){return Object(S.jsxs)("div",{className:"participant-item",children:[Object(S.jsx)("span",{className:"part-raise-hand-btn",onClick:function(){return e.handlDownRaiseHand(t)},children:t.raisehand&&Object(S.jsx)("img",{src:U,alt:"",className:"raise-hand-icon"})}),Object(S.jsx)("span",{className:"participant-name",children:t.name}),Object(S.jsxs)("div",{className:"participant-tool-btns",children:[Object(S.jsx)("span",{className:"participant-tool-btn mute-icon","data-tip":!0,"data-for":"tooltip-for-mute",onClick:function(){return e.handlePartMute(t)},children:t.mute&&Object(S.jsx)("img",{src:P,alt:"block"})}),Object(S.jsx)(T.a,{id:"tooltip-for-mute",type:"dark",place:"bottom",effect:"solid",children:Object(S.jsx)("span",{children:"Mute participant"})}),Object(S.jsx)("span",{className:"participant-tool-btn host-icon","data-tip":!0,"data-for":"tooltip-for-host",onClick:function(){return e.handleMakeHost(t)}}),Object(S.jsx)(T.a,{id:"tooltip-for-host",type:"dark",place:"bottom",effect:"solid",children:Object(S.jsx)("span",{children:"Make host"})}),Object(S.jsx)("span",{className:"participant-tool-btn delete-icon","data-tip":!0,"data-for":"tooltip-for-remove",onClick:function(){return e.handleRemovePart(t)}}),Object(S.jsx)(T.a,{id:"tooltip-for-remove",type:"dark",place:"bottom",effect:"solid",children:Object(S.jsx)("span",{children:"Remove participant"})})]})]},n)}))},e.state={message:"",showPopup:!1,tabIndex:0},e.chatRef=a.a.createRef(),e.messagesEndRef=a.a.createRef(),e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"sendMessage",value:function(){var e=this.state.message,t=this.props,n=t.username,s=t.connection;if(e){var a='{\n        "message": "sendmessage",\n        "data": "'.concat(n,"::").concat(e.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),'",\n        "sender": "').concat(n,'",\n        "content": "').concat(e.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),'",\n        "type": "sendmessage"\n      }');s.send(a),this.setState({message:""})}}},{key:"compare",value:function(e,t){return e.vote.length<t.vote.length?1:e.vote.length>t.vote.length?-1:0}},{key:"render",value:function(){var e=this,t=this.state.message,n=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),s=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,a=n&&s?"ioschrome-input":"",o=n&&s?"ioschrome-messages":"";return Object(S.jsxs)("div",{className:"chat full-height pos-relative",children:[Object(S.jsxs)("div",{className:"close-button",onClick:this.props.closeChat,children:[Object(S.jsx)("img",{src:V,alt:"Close Icon"}),Object(S.jsx)("span",{children:"CLOSE"})]}),Object(S.jsx)("div",{className:"chat__wrapper full-width pos-relative",children:Object(S.jsxs)(A.d,{onSelect:function(t){e.handleTabChange(t)},selectedIndex:this.props.isChat?0:1,children:[Object(S.jsx)("div",{className:"desktop-tab",children:Object(S.jsxs)(A.b,{children:[Object(S.jsx)(A.a,{children:"Q&A"}),Object(S.jsx)(A.a,{children:"PARTICIPANTS"})]})}),Object(S.jsx)("div",{className:"mobile-tab-title",children:this.props.isChat?"Q&A":"Participants"}),Object(S.jsx)(A.c,{children:Object(S.jsxs)("div",{className:"message-container",children:[Object(S.jsxs)("div",{className:"messages pd-x-1 ".concat(o),children:[this.renderMessages(),Object(S.jsx)("div",{ref:this.messagesEndRef})]}),Object(S.jsxs)("div",{className:"composer chime-web-composer full-width ".concat(a),children:[Object(S.jsx)("span",{className:"label",children:"Submit question"}),Object(S.jsx)("textarea",{ref:this.chatRef,placeholder:"Type question here...",value:t,maxLength:510,rows:3,onChange:this.handleChange,onKeyDown:this.handleKeyDown,className:"chat-input desktop-question-input"}),Object(S.jsx)("textarea",{ref:this.chatRef,placeholder:"Type question here...",value:t,maxLength:510,rows:3,onChange:this.handleChange,className:"chat-input mobile-question-input"})]}),Object(S.jsx)("div",{className:"mobile-submit-btn-container ".concat(a),children:Object(S.jsx)("button",{onClick:this.handleSendMobile,children:"submit question"})})]})}),Object(S.jsx)(A.c,{children:Object(S.jsx)("div",{className:"messages pd-x-1",children:this.renderParticipants()})})]})})]})}}]),n}(s.Component),H=n.p+"static/media/mute.aec53e75.svg",B=n.p+"static/media/camera.776f1869.svg",W=n.p+"static/media/share.3313e06a.svg",z=n.p+"static/media/hand.c928c6c0.svg",J=n.p+"static/media/qa.ce90c700.svg",F=n.p+"static/media/qaa.35a6a8e2.svg",q=n.p+"static/media/user.7a529212.svg",K=n.p+"static/media/usera.ac1cee42.svg",G=(n(296),function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(b.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={focus:!1,videoStatus:"Disabled",shareScreenStatue:!0,openChatStatus:!1,openParticipantsStatus:!1},e.muteButtonOnClick=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.muted?e.props.chime.audioVideo.realtimeUnmuteLocalAudio():e.props.chime.audioVideo.realtimeMuteLocalAudio(),t.next=3,new Promise((function(e){return setTimeout(e,10)}));case 3:case"end":return t.stop()}}),t)}))),e.raiseButtonOnClick=function(){var t=e.props.connection,n='{\n      "message": "sendmessage",\n      "data": "'.concat(!e.props.handRaiseStatus,'",\n      "type": "raisehand"\n    }');t.send(n)},e.handlGoToLive=function(){var t=e.props.connection,n='{\n      "message": "sendmessage",\n      "title": "'.concat(e.props.title,'",\n      "type": "gotolive"\n    }');t.send(n)},e.shareButtonOnClick=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==e.state.shareScreenStatue){t.next=6;break}return e.setState({shareScreenStatue:!0}),t.next=4,e.props.chime.audioVideo.stopContentShare();case 4:t.next=16;break;case 6:return t.prev=6,t.next=9,e.props.chime.audioVideo.startContentShareFromScreenCapture();case 9:t.sent&&e.setState({shareScreenStatue:!1}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[6,13]])}))),e.videoButtonOnClick=Object(m.a)(p.a.mark((function t(){var n,s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){return setTimeout(e,10)}));case 2:if("Disabled"!==e.state.videoStatus){t.next=35;break}if(e.setState({videoStatus:"Loading"}),t.prev=4,e.props.chime.currentVideoInputDevice){t.next=7;break}throw new Error("currentVideoInputDevice does not exist");case 7:return t.prev=7,t.next=10,e.props.chime.audioVideo.listVideoInputDevices();case 10:return n=t.sent,s=e.props.chime.currentVideoInputDevice,n.length>=2&&n.map((function(e){e.label.toLowerCase().includes("front")&&(s={label:e.label,value:e.deviceId},console.log(e))})),t.next=15,e.props.chime.chooseVideoInputDevice(s);case 15:t.next=25;break;case 17:return t.prev=17,t.t0=t.catch(7),t.next=21,e.props.chime.audioVideo.listVideoInputDevices();case 21:return a=t.sent,console.log(a),t.next=25,e.props.chime.audioVideo.chooseVideoInputDevice(a[0].deviceId);case 25:e.props.chime.audioVideo.startLocalVideoTile(),e.setState({videoStatus:"Enabled"}),t.next=33;break;case 29:t.prev=29,t.t1=t.catch(4),console.error(t.t1),e.setState({videoStatus:"Disabled"});case 33:t.next=36;break;case 35:"Enabled"===e.state.videoStatus&&(e.setState({videoStatus:"Loading"}),e.props.chime.meetingSession.audioVideo.stopLocalVideoTile(),e.setState({videoStatus:"Disabled"}));case 36:case"end":return t.stop()}}),t,null,[[4,29],[7,17]])}))),e.endButtonOnClick=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(R.confirmAlert)({title:"Confirm to leave",message:"Are you sure you want to leave?",buttons:[{label:"Yes",onClick:function(){return e.leaveroom()}},{label:"No",onClick:function(){return console.log()}}]});case 1:case"end":return t.stop()}}),t)}))),e.leaveroom=Object(m.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.chime.leaveRoom("host"===e.props.role);case 2:sessionStorage.removeItem(e.props.ssName),n="".concat(e.props.baseHref,"/").concat("host"===e.props.role?"":"join?room="+e.props.title),e.props.history.push(n);case 5:case"end":return t.stop()}}),t)}))),e.toggleChat=function(){!1===e.state.openChatStatus?(e.setState({openChatStatus:!0,openParticipantsStatus:!1}),e.props.openChat()):(e.setState({openChatStatus:!1}),e.props.closeChat())},e.togglePT=function(){!1===e.state.openParticipantsStatus?(e.setState({openParticipantsStatus:!0,openChatStatus:!1}),e.props.openPT()):(e.setState({openParticipantsStatus:!1}),e.props.closeChat())},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.props.chime.audioVideo.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.props.setMute)}},{key:"componentWillUnmount",value:function(){this.props&&this.props.chime.audioVideo&&this.props.chime.audioVideo.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.props.setMute)}},{key:"render",value:function(){var e=this.props.muted?"controls__btn--mic_on":"controls__btn--mic_off",t="Enabled"===this.state.videoStatus?"controls__btn--cam_off":"controls__btn--cam_on",n=this.props.handRaiseStatus?"controls__btn--raise-on":"controls__btn--raise-off",s=this.state.shareScreenStatue?"controls__btn--share-on":"controls__btn--share-off";return Object(S.jsxs)("div",{className:"controls pos-relative",children:[Object(S.jsxs)("div",{className:"button-group1",children:[Object(S.jsx)("button",{className:"controls__btn ".concat(e," btn rounded btn--mic"),onClick:this.muteButtonOnClick,children:Object(S.jsxs)("div",{className:"btn__svg btn__svg--mic_on button-layout btn-toggle",children:[Object(S.jsx)("img",{src:H,alt:"mute icon",className:"toggle-icon ".concat(this.props.muted?"toggle-off-icon":"")}),this.props.muted&&Object(S.jsx)("img",{src:P,alt:"block icon",className:"un-icon mute-block"}),Object(S.jsx)("span",{className:"txt-oncontrolbtn toggle-text",children:this.props.muted?"Unmute":"Mute"})]})}),Object(S.jsx)("button",{className:"controls__btn ".concat(t," btn rounded btn--cam"),onClick:this.videoButtonOnClick,children:Object(S.jsxs)("div",{className:"btn__svg btn__svg--cam_on button-layout btn-toggle",children:[Object(S.jsx)("img",{src:B,alt:"camera icon",className:"toggle-icon ".concat("Enabled"!==this.state.videoStatus?"toggle-off-icon":"")}),"Enabled"!==this.state.videoStatus&&Object(S.jsx)("img",{src:P,alt:"block icon",className:"un-icon camera-block"}),Object(S.jsx)("span",{className:"txt-oncontrolbtn toggle-text",children:"Enabled"===this.state.videoStatus?"Camera on":"Camera off"})]})}),Object(S.jsx)("button",{className:"controls__btn ".concat(s," btn rounded btn--share"),onClick:this.shareButtonOnClick,children:Object(S.jsxs)("div",{className:"btn__svg btn__svg--share_on button-layout btn-toggle",children:[Object(S.jsx)("img",{src:W,alt:"share icon",className:"toggle-icon ".concat(this.state.shareScreenStatue?"toggle-off-icon":"")}),this.state.shareScreenStatue&&Object(S.jsx)("img",{src:P,alt:"block icon",className:"un-icon share-block"}),Object(S.jsx)("span",{className:"txt-oncontrolbtn toggle-text",children:this.state.shareScreenStatue?"Share screen":"Stop sharing"})]})}),Object(S.jsx)("button",{className:"controls__btn ".concat(n," btn rounded btn--hand"),onClick:this.raiseButtonOnClick,children:Object(S.jsxs)("div",{className:"btn__svg btn__svg--hand_on button-layout btn-toggle",children:[Object(S.jsx)("img",{src:z,alt:"raise icon",className:"toggle-icon raise-toggle-icon ".concat(this.props.handRaiseStatus?"toggle-off-icon":"")}),this.props.handRaiseStatus&&Object(S.jsx)("img",{src:P,alt:"block icon",className:"un-icon hand-block"}),Object(S.jsx)("span",{className:"txt-oncontrolbtn toggle-text",children:this.props.handRaiseStatus?"Raise hand":"Lower hand"})]})}),Object(S.jsx)("button",{className:"controls__btn ".concat(s," btn rounded btn--qa"),onClick:this.toggleChat,children:Object(S.jsxs)("div",{className:"btn__svg btn__svg--share_on button-layout btn-toggle",children:[Object(S.jsx)("img",{src:this.props.isOpenChat&&this.state.openChatStatus?F:J,alt:"qa icon",className:"toggle-icon"}),Object(S.jsx)("span",{className:"txt-oncontrolbtn toggle-text",children:"Q&A"})]})}),Object(S.jsx)("button",{className:"controls__btn ".concat(s," btn rounded btn--participants"),onClick:this.togglePT,children:Object(S.jsxs)("div",{className:"btn__svg btn__svg--share_on button-layout btn-toggle",children:[Object(S.jsx)("img",{src:this.props.isOpenChat&&this.state.openParticipantsStatus?K:q,alt:"qa icon",className:"toggle-icon"}),Object(S.jsx)("span",{className:"txt-oncontrolbtn toggle-text",children:"Participants"})]})})]}),Object(S.jsxs)("div",{className:"button-group3",children:[!this.props.isLive&&"host"===this.props.role&&Object(S.jsx)("button",{className:"go-livebtn",onClick:this.handlGoToLive,children:Object(S.jsx)("span",{className:"txt-onbtn",children:"GO LIVE"})}),Object(S.jsx)("button",{className:"live-meetingbtn txt-onbtn",onClick:this.endButtonOnClick,children:Object(S.jsx)("span",{className:"txt-onbtn",children:"LEAVE MEETING"})})]})]})}}]),n}(s.Component)),Y=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(b.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={microphone:"",speaker:"",camera:""},e.devicesUpdatedCallback=function(e){d},e.handleKeyDown=function(t){27===t.keyCode&&e.props.closeSettings()},e.handlePlaybackURLChange=function(t){e.setState({playbackURL:t.target.value})},e.handleMicrophoneChange=function(t){if(e.setState({microphone:t.target.value}),e.props.chime.audioInputDevices.length){var n,s;for(s in e.props.chime.audioInputDevices)if(e.props.chime.audioInputDevices[s].value===t.target.value){n=e.props.chime.audioInputDevices[s];break}e.props.chime.chooseAudioInputDevice(n)}},e.handleSpeakerChange=function(t){if(e.setState({speaker:t.target.value}),e.props.chime.audioOutputDevices.length){var n,s;for(s in e.props.chime.audioOutputDevices)if(e.props.chime.audioOutputDevices[s].value===t.target.value){n=e.props.chime.audioOutputDevices[s];break}e.props.chime.chooseAudioOutputDevice(n)}},e.handleCameraChange=function(){var t=Object(m.a)(p.a.mark((function t(n){var s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({camera:n.target.value}),!e.props.chime.videoInputDevices.length){t.next=11;break}t.t0=p.a.keys(e.props.chime.videoInputDevices);case 3:if((t.t1=t.t0()).done){t.next=10;break}if(a=t.t1.value,e.props.chime.videoInputDevices[a].value!==n.target.value){t.next=8;break}return s=e.props.chime.videoInputDevices[a],t.abrupt("break",10);case 8:t.next=3;break;case 10:e.props.chime.chooseVideoInputDevice(s);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSave=function(t){t.stopPropagation(),t.preventDefault();var n=e.state,s=n.microphone,a=n.speaker,o=n.camera;e.props.saveSettings(s,a,o)},e.renderDevices=function(e,t,n){return e&&e.length?e.map((function(e){return Object(S.jsx)("option",{value:e.value,children:"".concat(e.label)},e.value)})):Object(S.jsx)("option",{value:"no-permission",children:"Permission not granted to access ".concat(n," devices")})},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.props.chime.subscribeToDevicesUpdated(this.devicesUpdatedCallback)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),this.props.chime.unsubscribeFromDevicesUpdated(this.devicesUpdatedCallback)}},{key:"render",value:function(){var e=this.props.chime.currentAudioInputDevice,t=this.props.chime.currentAudioOutputDevice,n=this.props.chime.currentVideoInputDevice,s=this.props.chime.audioInputDevices,a=this.props.chime.audioOutputDevices,o=this.props.chime.videoInputDevices;return Object(S.jsxs)("div",{className:"modal pos-absolute top-0 bottom-0 ",children:[Object(S.jsxs)("div",{className:"modal__el",children:[Object(S.jsx)("h1",{className:"mg-b-2",children:"Settings"}),Object(S.jsx)("form",{children:Object(S.jsxs)("fieldset",{children:[Object(S.jsx)("input",{className:"mg-b-2",name:"",id:"",type:"text",readOnly:!0,placeholder:"Playback URL",onChange:this.handlePlaybackURLChange,value:this.props.joinInfo.PlaybackURL,disabled:!0}),Object(S.jsx)("select",{name:"microphone",className:"select__field",onChange:this.handleMicrophoneChange,value:this.state.microphone||e.value,disabled:!s.length,children:this.renderDevices(s,e,"microphone")}),Object(S.jsx)("select",{name:"speaker",className:"select__field",onChange:this.handleSpeakerChange,value:this.state.speaker||t.value,disabled:!a.length,children:this.renderDevices(a,t,"speaker")}),Object(S.jsx)("select",{name:"camera",className:"select__field",onChange:this.handleCameraChange,value:this.state.camera||n.value,disabled:!o.length,children:this.renderDevices(o,n,"camera")}),Object(S.jsx)("button",{className:"btn btn--primary mg-t-2",onClick:this.handleSave,children:"Save"})]})})]}),Object(S.jsx)("div",{className:"modal__overlay"})]})}}]),n}(s.Component),Q=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).state={enabled:!1,muted:!1,showMeta:!0},e.rosterCallback=function(t){var n;for(n in t)n===e.props.joinInfo.Attendee.AttendeeId&&e.setState({muted:t[n].muted})},e.videoElement=a.a.createRef(),e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({showMeta:!1})}),2500),this.props.chime.audioVideo.addObserver({videoTileDidUpdate:function(t){t.boundAttendeeId&&t.localTile&&t.tileId&&e.videoElement.current&&(e.props.chime.audioVideo.bindVideoElement(t.tileId,e.videoElement.current),e.setState({enabled:t.active}))}}),this.props.chime.subscribeToRosterUpdate(this.rosterCallback)}},{key:"componentWillUnmount",value:function(){this.props.chime.unsubscribeFromRosterUpdate(this.rosterCallback)}},{key:"handleMouseEnter",value:function(e){this.setState({showMeta:!0})}},{key:"handleMouseLeave",value:function(e){this.setState({showMeta:!1})}},{key:"render",value:function(){return Object(S.jsx)("div",{className:"cam local-cam",onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),children:Object(S.jsx)("div",{className:"cam__preview",children:Object(S.jsx)("div",{className:"video-container pos-relative",children:Object(S.jsx)("video",{className:"attendee_cam",ref:this.videoElement})})})})}}]),n}(s.Component),Z=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(b.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showMeta:!0},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.muted||setTimeout((function(){e.setState({showMeta:!1})}),2e3)}},{key:"handleMouseEnter",value:function(e){this.setState({showMeta:!0})}},{key:"handleMouseLeave",value:function(e){this.setState({showMeta:!1})}},{key:"render",value:function(){var e=this.props,t=e.attendeeId,n=e.videoElement,s=t?"":" hidden",a="video_".concat(t);return Object(S.jsx)("div",{className:"cam".concat(s," cam-layout-").concat(this.props.count),onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),children:Object(S.jsxs)("div",{className:"cam__preview",children:[Object(S.jsx)("div",{className:"video-container pos-relative",children:Object(S.jsx)("video",{ref:n,className:"attendee_cam remote-attendee",id:a})}),Object(S.jsxs)("div",{className:"remote-bottom-bar",children:[this.props.name," - The University of Law"]})]})},t)}}]),n}(s.Component),$=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).state={rosterChanged:!1,roster:[],shareVideoElement:a.a.createRef(),isMyContent:!1,isSharingContent:!1,sharingTileId:0,sharingInfo:{}},e.findRosterSlot=function(t){var n;for(n=0;n<e.state.roster.length;n++)if(e.state.roster[n].attendeeId===t)return n;for(n=0;n<e.state.roster.length;n++)if(!e.state.roster[n].attendeeId)return n;return 0},e.rosterCallback=function(t){if(Object.keys(t).length,Object.keys(t).length<Object.keys(e.previousRoster).length){d;var n,s=Object.keys(e.previousRoster).filter((function(n){return e.previousRoster[n]!==t[n]}));if(s.length)for(n in s){var a=e.findRosterSlot(s[n]),o=e.state.roster;o[a]={videoElement:o[a].videoElement},e.setState({roster:o})}}var i;for(i in e.previousRoster=Object.assign({},t),t)if(i!==e.props.joinInfo.Attendee.AttendeeId&&t[i].name){var r=e.findRosterSlot(i),c=e.state.roster,l=Object(_.a)(Object(_.a)({},c[r]),{},{attendeeId:i},t[i]);c[r]=l,e.setState({roster:c})}var u=e.props.participants,h=Object.keys(t),p=[];h.map((function(n){if(n!==e.props.joinInfo.Attendee.AttendeeId){var s=!1;if(u.map((function(e){e.attendeeId===n&&(p.push(Object(_.a)(Object(_.a)({},e),{},{mute:t[n].muted,name:t[n].name})),s=!0)})),!s){var a={name:t[n].name,mute:t[n].muted,host:!1,raisehand:!1,attendeeId:n};p.push(a)}}})),e.props.setParts(p)},e.videoTileDidUpdateCallback=function(){var t=Object(m.a)(p.a.mark((function t(n){var s,a,o,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(n),!(n.boundAttendeeId&&n.isContent&&n.tileId)){t.next=11;break}return n.boundAttendeeId===e.props.joinInfo.Attendee.AttendeeId+"#content"?e.setState({isMyContent:!0}):e.setState({isMyContent:!1}),s=document.getElementById("share_video"),e.props.chime.audioVideo.bindVideoElement(n.tileId,s),e.setState({isSharingContent:!0,sharingTileId:n.tileId}),console.log(e.previousRoster[n.boundAttendeeId.replace("#content","")]),e.setState({sharingInfo:e.previousRoster[n.boundAttendeeId.replace("#content","")]}),t.abrupt("return");case 11:e.setState({isSharingContent:!1});case 12:if(n.boundAttendeeId&&!n.localTile&&!n.isContent&&n.tileId){t.next=14;break}return t.abrupt("return");case 14:a=e.findRosterSlot(n.boundAttendeeId),o=e.state.roster,i=Object(_.a)(Object(_.a)({},o[a]),{},{videoEnabled:n.active,attendeeId:n.boundAttendeeId,tileId:n.tileId}),o[a]=i,e.setState({roster:o}),setTimeout((function(){var t=document.getElementById("video_".concat(n.boundAttendeeId));t&&e.props.chime.audioVideo.bindVideoElement(n.tileId,t)}),1e3);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.videoTileWasRemovedCallback=function(t){var n=e.state.roster;t===e.state.sharingTileId&&(console.log(t),console.log(e.state.sharingInfo),console.log(n),e.setState({sharingTileId:0,isMyContent:!1,isSharingContent:!1,sharingInfo:{}})),n.find((function(s,a){s.tileId===t&&(n[a].videoEnabled=!1,e.setState({roster:n}),console.log(s))}))},e.stopHandle=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.chime.audioVideo.stopContentShare();case 2:case"end":return t.stop()}}),t)}))),e.previousRoster={},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=[];Array.from(Array(10).keys()).map((function(t,n){e[n]={videoElement:a.a.createRef()}})),this.setState({roster:e}),this.props.chime.subscribeToRosterUpdate(this.rosterCallback),this.props.chime.audioVideo.addObserver({videoTileDidUpdate:this.videoTileDidUpdateCallback,videoTileWasRemoved:this.videoTileWasRemovedCallback})}},{key:"componentWillUnmount",value:function(){this.props.chime.unsubscribeFromRosterUpdate(this.rosterCallback)}},{key:"render",value:function(){var e=this,t=0;this.state.roster.map((function(e){e.attendeeId&&t++}));var n=this.state,s=n.shareVideoElement,o=n.isMyContent,i=n.isSharingContent,r=n.sharingInfo;return Object(S.jsxs)(a.a.Fragment,{children:[Object(S.jsx)("div",{className:"sharing-video-container ".concat(o||!i?"display-none":""),children:Object(S.jsx)("video",{ref:s,className:"",id:"share_video"})}),i&&Object(S.jsxs)("div",{className:"sharing-headline-container",children:[o?Object(S.jsx)("span",{className:"sharing-text",children:"You are currently sharing your screen"}):Object(S.jsxs)("span",{className:"sharing-text",children:[r.name," is currently screen sharing"]}),o&&Object(S.jsx)("button",{className:"mycontent-stop-sharing",onClick:this.stopHandle,children:"STOP SHARING"})]}),Object(S.jsx)("div",{className:"remote-cams-container ".concat(!o&&i?"display-none":""),children:this.state.roster.map((function(n,s){return Object(S.jsx)(Z,{chime:e.props.chime,attendeeId:n.attendeeId,videoEnabled:n.videoEnabled,name:n.name,muted:n.muted,videoElement:n.videoElement,count:t},s)}))})]})}}]),n}(s.Component),X=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return Object(S.jsxs)("div",{className:"alert-container",children:[Object(S.jsx)("div",{className:"alert-back-drop"}),Object(S.jsxs)("div",{className:"alert-content",children:[Object(S.jsx)("img",{className:"alert-logo",src:C,alt:"Logo"}),Object(S.jsx)("p",{children:"Sorry, Host is not living now."}),Object(S.jsx)("p",{children:"Please wait until hoster will be living."})]})]})}}]),n}(s.Component),ee=Object(c.f)(X),te=(n(297),n(298),n.p+"static/media/UoL.3e01f2ee.svg"),ne=n.p+"static/media/v-icon.c9bccf9e.svg",se=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).state={meetingStatus:null,showSettings:!1,showError:!1,errorMsg:"",showPopupMessage:!1,isChat:!0,isAvailable:!1,messages:[],connection:null,participants:[],handRaiseStatus:!0,muted:!1,isLive:!1},e.showModal=function(){console.log("show modal"),e.setState({showPopupMessage:!0})},e.openChat=function(){e.setState({showPopupMessage:!0,isChat:!0})},e.openPT=function(){e.setState({showPopupMessage:!0,isChat:!1})},e.changeChat=function(t){0===t&&e.setState({isChat:!0}),1===t&&e.setState({isChat:!1})},e.hideModal=function(){console.log("hide modal"),e.setState({showPopupMessage:!1})},e.openSettings=function(){e.setState({showSettings:!0})},e.closeSettings=function(){e.setState({showSettings:!1})},e.handleClick=function(t){if(e.state.showSettings){for(var n=t.target,s=!1;n;){if(n&&n.classList&&n.classList.contains("modal__el")){s=!0;break}n=n.parentNode}s||e.setState({showSettings:!1})}},e.saveSettings=function(t,n,s,a){e.setState({showSettings:!1,currentAudioInputDevice:n,currentAudioOutputDevice:s,currentVideoInputDevice:a})},e.setMetadataId=function(t){e.setState({metadataId:t})},e.setErrorMsg=function(t){e.setState({errorMsg:t,showError:!0})},e.closeError=function(){e.setState({showError:!1})},e.endButtonOnClick=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(R.confirmAlert)({title:"Confirm to leave",message:"Are you sure you want to leave?",buttons:[{label:"Yes",onClick:function(){return e.leaveroom()}},{label:"No",onClick:function(){return console.log()}}]});case 1:case"end":return t.stop()}}),t)}))),e.leaveroom=Object(m.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.chime.leaveRoom("host"===e.role);case 2:sessionStorage.removeItem(e.ssName),n="".concat(e.baseHref,"/").concat("host"===e.role?"":"join?room="+e.title),e.props.history.push(n);case 5:case"end":return t.stop()}}),t)}))),e.handleMute=function(t){e.setState({muted:t})},e.handlGoToLive=function(){var t='{\n          "message": "sendmessage",\n          "title": "'.concat(e.title,'",\n          "type": "gotolive"\n        }');e.state.connection.send(t)},e.layout=function(){if("Success"===e.state.meetingStatus)return Object(S.jsxs)("div",{className:"meeting-grid",onClick:e.handleClick,children:[Object(S.jsxs)("div",{className:"meeting-header",children:[Object(S.jsx)("img",{className:"header-logo",src:C,alt:"Logo"}),Object(S.jsxs)("div",{className:"body-logo",children:[Object(S.jsx)("span",{children:" SPONSORED BY: "}),Object(S.jsx)("img",{src:te,alt:"body logo"})]})]}),Object(S.jsxs)("div",{className:"main-body",children:[e.state.showSettings&&Object(S.jsx)(Y,{chime:e.props.chime,joinInfo:e.joinInfo,saveSettings:e.saveSettings}),Object(S.jsxs)("div",{className:"main-stage body-left",children:[Object(S.jsx)("div",{className:"body-before",children:Object(S.jsxs)("div",{className:"body-wrapper",children:[Object(S.jsx)(Q,{chime:e.props.chime,joinInfo:e.joinInfo}),Object(S.jsxs)("div",{className:"mobile-buttons",children:[!e.state.isLive&&"host"===e.role&&Object(S.jsx)("button",{className:"go-livebtn",onClick:e.handlGoToLive,children:Object(S.jsx)("span",{className:"txt-onbtn",children:"GO LIVE"})}),Object(S.jsx)("button",{className:"live-meetingbtn txt-onbtn",onClick:e.endButtonOnClick,children:Object(S.jsx)("span",{className:"txt-onbtn",children:"LEAVE MEETING"})})]}),Object(S.jsx)("div",{className:"remote-cams",children:Object(S.jsx)($,{chime:e.props.chime,joinInfo:e.joinInfo,participants:e.state.participants,setParts:e.setParts})})]})}),Object(S.jsx)("div",{className:"meeting-footer",children:Object(S.jsx)(G,{chime:e.props.chime,baseHref:e.baseHref,ssName:e.ssName,title:e.title,openSettings:e.openSettings,role:e.role,history:e.props.history,myVideoElement:e.myVideoElement,openChat:e.openChat,openPT:e.openPT,closeChat:e.hideModal,isOpenChat:e.state.showPopupMessage,joinInfo:e.joinInfo,connection:e.state.connection,handRaiseStatus:e.state.handRaiseStatus,muted:e.state.muted,setMute:e.handleMute,isLive:e.state.isLive})})]}),Object(S.jsxs)("div",{className:"right-sidebar",children:[e.state.showPopupMessage?Object(S.jsx)("button",{className:"btnPopdownMessage btnPopupMessageFont",onClick:e.hideModal,children:Object(S.jsx)("img",{src:ne,alt:"v right",className:"vicon vright"})}):" ",e.state.showPopupMessage?" ":Object(S.jsxs)("button",{className:"btnPopupMessage btnPopupMessageFont",onClick:e.showModal,children:[Object(S.jsx)("img",{src:ne,alt:"v left",className:"vicon vleft"}),Object(S.jsx)("span",{children:"Q&A/PARTICIPANTS"})]}),e.state.showPopupMessage?Object(S.jsx)(L,{chime:e.props.chime,title:e.title,username:e.username,joinInfo:e.joinInfo,closeChat:e.hideModal,isChat:e.state.isChat,changeTab:e.changeChat,connection:e.state.connection,messages:e.state.messages,participants:e.state.participants,role:e.role,setErrorMsg:e.setErrorMsg}):" "]})]})]})},e.setParts=function(t){e.setState({participants:t})},e.baseHref="",e.ssName="",e.audioElementRef=a.a.createRef(),e.myVideoElement=a.a.createRef(),e.WEB_SOCKET_TIMEOUT_MS=13e4,e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this;(function(){var t=Object(m.a)(p.a.mark((function t(){var n,s,a,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=new URLSearchParams(e.props.location.search),s=n.get("room"),e.ssName="chime[".concat(s,"]"),s&&sessionStorage.getItem(e.ssName)||e.props.history.push("".concat(e.baseHref,"/")),a=JSON.parse(sessionStorage.getItem(e.ssName)),e.username=a.username,e.title=a.title,e.role=a.role,a.joinInfo){t.next=19;break}return t.next=13,e.props.chime.createRoom(e.role,e.username,e.title,a.playbackURL);case 13:e.joinInfo=t.sent,o=Object(_.a)(Object(_.a)({},a),{},{joinInfo:e.joinInfo}),sessionStorage.setItem(e.ssName,JSON.stringify(o)),e.playbackURL=e.joinInfo.PlaybackURL,t.next=23;break;case 19:return e.joinInfo=a.joinInfo,e.playbackURL=a.joinInfo.PlaybackURL,t.next=23,e.props.chime.reInitializeMeetingSession(e.joinInfo,e.username);case 23:e.setState({meetingStatus:"Success"}),e.props.chime.audioVideo.addObserver({audioVideoDidStop:function(){var t=Object(m.a)(p.a.mark((function t(n){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.statusCode()===f.MeetingSessionStatusCode.AudioCallEnded&&(s="".concat(e.baseHref,"/").concat("host"===e.role?"":"end"),e.props.chime.leaveRoom("host"===e.role),e.props.history.push(s));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),e.initChatConnection(),t.next=32;break;case 28:t.prev=28,t.t0=t.catch(0),console.error(t.t0),e.setState({meetingStatus:"Failed"});case 32:case"end":return t.stop()}}),t,null,[[0,28]])})));return function(){return t.apply(this,arguments)}})()();try{navigator.mediaDevices.enumerateDevices||this.setState({isAvailable:!0})}catch(t){console.log(t),this.setState({isAvailable:!0})}(/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))&(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream)&&this.setState({isAvailable:!0})}},{key:"initChatConnection",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,n,s,a,o,i,r=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.joinInfo,n=t.Meeting,s=t.Attendee,a="".concat(u,"?MeetingId=").concat(n.MeetingId,"&AttendeeId=").concat(s.AttendeeId,"&JoinToken=").concat(s.JoinToken),o=new f.ReconnectingPromisedWebSocket(a,[],"arraybuffer",new f.DefaultPromisedWebSocketFactory(new f.DefaultDOMWebSocketFactory),new f.FullJitterBackoff(1e3,0,1e4)),e.next=6,o.open(this.WEB_SOCKET_TIMEOUT_MS);case 6:o.addEventListener("message",function(){var e=Object(m.a)(p.a.mark((function e(t){var n,s,a,o,i,c,l,u,d,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),n=r.state,s=n.messages,a=n.participants,"sendmessage"!==(o=JSON.parse(t.data)).Type){e.next=8;break}s.push({id:o.MessageId,timestamp:o.Time,username:o.Sender,message:o.Content,vote:o.Vote}),r.setState({messages:s}),e.next=70;break;case 8:if("upvote"!==o.Type){e.next=13;break}s.map((function(e){e.id===o.MessageId&&(e.vote=o.Vote)})),r.setState({messages:s}),e.next=70;break;case 13:if("deletemessage"!==o.Type){e.next=19;break}i=[],s.map((function(e){e.id!==o.MessageId&&i.push(e)})),r.setState({messages:i}),e.next=70;break;case 19:if("getall"!==o.Type){e.next=25;break}c=[],o.messages.map((function(e){c.push({id:e.MessageId,timestamp:e.Time,username:e.Sender,message:e.Content,vote:e.Vote})})),r.setState({messages:c}),e.next=70;break;case 25:if("raisehand"!==o.Type){e.next=31;break}a.map((function(e){e.attendeeId===o.Sender&&(e.raisehand="false"===o.Data,r.setErrorMsg("".concat(e.name," raise hand!")))})),r.setState({participants:a}),o.Sender===r.joinInfo.Attendee.AttendeeId&&(console.log(o),r.setState({handRaiseStatus:"false"!==o.Data})),e.next=70;break;case 31:if("downhand"!==o.Type){e.next=37;break}a.map((function(e){e.attendeeId===o.Data&&(e.raisehand=!1)})),r.setState({participants:a}),o.Data===r.joinInfo.Attendee.AttendeeId&&(r.setState({handRaiseStatus:!0}),r.setErrorMsg("Host make your hand down!")),e.next=70;break;case 37:if("muteremote"!==o.Type){e.next=41;break}r.joinInfo.Attendee.AttendeeId===o.Data&&(r.props.chime.audioVideo.realtimeMuteLocalAudio(),r.setErrorMsg("Host make you mute!")),e.next=70;break;case 41:if("removeremote"!==o.Type){e.next=51;break}if(r.joinInfo.Attendee.AttendeeId!==o.Data){e.next=49;break}return r.setErrorMsg("Host removed you!"),e.next=46,r.props.chime.leaveRoom("host"===r.role);case 46:sessionStorage.removeItem(r.ssName),l="".concat(r.baseHref,"/").concat("host"===r.role?"":"join?room="+r.title),r.props.history.push(l);case 49:e.next=70;break;case 51:if("makehost"!==o.Type){e.next=55;break}r.joinInfo.Attendee.AttendeeId===o.Data&&(r.role="host",(u=JSON.parse(sessionStorage.getItem(r.ssName))).role=r.role,sessionStorage.setItem(r.ssName,JSON.stringify(u)),r.setErrorMsg("You are set as Host!")),e.next=70;break;case 55:if("gotolive"!==o.Type){e.next=62;break}return r.setState({isLive:!0}),e.next=59,r.props.chime.joinRoom(r.audioElementRef.current);case 59:o.Host===r.joinInfo.Attendee.AttendeeId?r.setErrorMsg("You are living now!"):r.setErrorMsg("Host are living now!"),e.next=70;break;case 62:if("getlivestatus"!==o.Type){e.next=69;break}if(r.setState({isLive:o.status}),!o.status){e.next=67;break}return e.next=67,r.props.chime.joinRoom(r.audioElementRef.current);case 67:e.next=70;break;case 69:"beforepart"===o.Type&&(r.state.isLive||"host"!==r.role||(d=r.state.participants,h=!1,d.map((function(e){e.attendeeId===o.Sender&&(h=!0)})),h||d.push({name:o.Name,mute:!1,host:!1,raisehand:!1,attendeeId:o.Sender}),r.setParts(d)));case 70:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i='{\n      "message": "sendmessage",\n      "type": "getall"\n    }',o.send(i),i='{\n        "message": "sendmessage",\n        "title": "'.concat(this.title,'",\n        "type": "getlivestatus"\n    }'),o.send(i),this.state.isLive||"host"===this.role||(i='{\n            "message": "sendmessage",\n            "name": "'.concat(this.username,'",\n            "type": "beforepart"\n        }'),console.log(i),o.send(i)),this.setState({connection:o});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isAvailable,n=e.isLive;return Object(S.jsxs)(a.a.Fragment,{children:[t&&Object(S.jsx)(w,{}),"attendee"===this.role&&!n&&Object(S.jsx)(ee,{}),Object(S.jsx)("audio",{ref:this.audioElementRef,style:{display:"none"}}),this.layout(),this.state.showError&&Object(S.jsx)(y,{closeError:this.closeError,errorMsg:this.state.errorMsg})]})}}]),n}(s.Component),ae=Object(c.f)(se),oe=function(e){Object(x.a)(n,e);var t=Object(k.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).baseHref="",e}return Object(v.a)(n,[{key:"render",value:function(){return Object(S.jsxs)("div",{className:"welcome form-grid",children:[Object(S.jsx)("div",{className:"welcome__intro",children:Object(S.jsxs)("div",{className:"intro__inner formatted-text",children:[Object(S.jsx)("h1",{children:"Amazon IVS with ChimeSDK"}),Object(S.jsx)("h3",{children:"Create or join rooms, and watch Amazon IVS streams with anyone."})]})}),Object(S.jsx)("div",{className:"welcome__content pd-4",children:Object(S.jsxs)("div",{className:"content__inner formatted-text",children:[Object(S.jsx)("h2",{className:"mg-b-2",children:"Room closed"}),Object(S.jsx)("p",{children:"The host has ended the meeting and closed the room."}),Object(S.jsx)("a",{href:"".concat(this.baseHref,"/"),className:"mg-t-3 btn btn--primary",children:"Create a new room"})]})})]})}}]),n}(s.Component),ie=Object(c.f)(oe);var re=function(){var e=new O;return Object(S.jsx)("div",{className:"App full-width full-height",children:Object(S.jsx)(r.a,{children:Object(S.jsxs)(c.c,{children:[Object(S.jsx)(c.a,{path:"".concat("","/end"),children:Object(S.jsx)(ie,{})}),Object(S.jsx)(c.a,{path:"".concat("","/meeting"),children:Object(S.jsx)(ae,{chime:e})}),Object(S.jsx)(c.a,{path:"".concat("","/join"),children:Object(S.jsx)(E,{chime:e})}),Object(S.jsx)(c.a,{path:"".concat(""),children:Object(S.jsx)(D,{chime:e})})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(re,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),window.addEventListener("resize",(function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}))}},[[299,1,2]]]);
//# sourceMappingURL=main.09769132.chunk.js.map